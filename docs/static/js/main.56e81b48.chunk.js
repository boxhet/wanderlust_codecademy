(this["webpackJsonpwanderlust-codecademy"]=this["webpackJsonpwanderlust-codecademy"]||[]).push([[0],{13:function(e,t,c){},14:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(6),s=c.n(a),i=c(2),o=c(0);var j=function(){return Object(o.jsx)("header",{children:Object(o.jsx)("img",{className:"logo",src:"https://content.codecademy.com/courses/intermediate-javascript-requests/wanderlust/logo.svg",alt:"logo"})})};var u=function(e){var t=e.setCity;return Object(o.jsxs)("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault();var c=e.target.city.value;t(c),e.currentTarget.reset()},children:[Object(o.jsx)("input",{type:"text",id:"city",name:"city"}),Object(o.jsx)("button",{id:"button",children:"Submit"})]})},l=c(3),d=c.n(l),O=c(4),b=(new Date).toLocaleString("en-US",{weekday:"long"});var h=function(e){var t=e.city,c="".concat("https://api.openweathermap.org/data/2.5/weather","?q=").concat(t,"&appid=").concat("05e5697ba8260d0e76440ea6c9d664cd","&units=metric"),r=Object(n.useState)({}),a=Object(i.a)(r,2),s=a[0],j=a[1],u=Object(n.useState)([]),l=Object(i.a)(u,2),h=l[0],p=l[1],x=Object(n.useState)(null),m=Object(i.a)(x,2),v=m[0],f=m[1];function E(){return(E=Object(O.a)(d.a.mark((function e(){var t,n,r,a,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(c).then((function(e){return e.json()}));case 3:if(t=e.sent,n=t.main,r=t.weather,a=t.message,n&&r){e.next=9;break}throw new Error(a);case 9:s=r[0],i=s.description,o=s.icon,j({description:i,icon:o}),p(n.temp),f(null),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),f(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){t&&""!==t&&function(){E.apply(this,arguments)}()}),[t]),s&&h&&!v?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"sectiontitle",children:Object(o.jsx)("h2",{children:"CURRENT WEATHER"})}),Object(o.jsx)("section",{id:"weather",children:Object(o.jsxs)("div",{className:"weather",id:"weather1",children:[Object(o.jsx)("h2",{children:b}),Object(o.jsxs)("h2",{children:["Temperature: ",h,"\xb0C"]}),Object(o.jsxs)("h2",{children:["Condition: ",s.description]}),Object(o.jsx)("img",{className:"weathericon",src:"https://openweathermap.org/img/wn/".concat(s.icon,"@2x.png"),alt:s.description})]})})]}):Object(o.jsx)("p",{className:"weather",children:v})};var p=function(e){var t=e.venue,c=t.categories[0],n=c.icon,r=c.name;return Object(o.jsxs)("div",{className:"venue",children:[Object(o.jsx)("h2",{children:t.name}),Object(o.jsx)("img",{className:"venueimage",src:"".concat(n.prefix,"bg_64").concat(n.suffix),alt:r}),Object(o.jsx)("h3",{children:"Address:"}),Object(o.jsx)("p",{children:t.location.address}),Object(o.jsx)("p",{children:t.location.city}),Object(o.jsx)("p",{children:t.location.country})]})},x=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_OPENWEATHER_APP_ID:"05e5697ba8260d0e76440ea6c9d664cd",REACT_APP_FOURSQUARE_CLIENT_ID:"PU3IY1PZEOOANTPSHKNMS5HFSMEGEQ1IAVJYGYM4YVZP3NGD",REACT_APP_FOURSQUARE_CLIENT_SECRET:"0V21IXU0EETE3SZJGGCP4T4R13NUTBJ0LMI5WQY45IMDPEKY"}),m=x.REACT_APP_FOURSQUARE_CLIENT_ID,v=x.REACT_APP_FOURSQUARE_CLIENT_SECRET,f="https://api.foursquare.com/v2/venues/explore",E=(new Date).toISOString().replaceAll("-","").slice(0,8);var S=function(e){var t=e.city,c=Object(n.useState)([]),r=Object(i.a)(c,2),a=r[0],s=r[1],j=Object(n.useState)(null),u=Object(i.a)(j,2),l=u[0],b=u[1];function h(){return(h=Object(O.a)(d.a.mark((function e(t){var c,n,r,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(f,"?near=").concat(t,"&client_id=").concat(m,"&client_secret=").concat(v,"&v=").concat(E,"&limit=3&locale=en"),e.prev=1,e.next=4,fetch(c).then((function(e){return e.json()}));case 4:if(n=e.sent,r=n.meta,(a=n.response).groups){e.next=9;break}throw new Error(r.errorDetail);case 9:i=a.groups[0].items.map((function(e){return e.venue})),s(i),b(null),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),b(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){t&&""!==t&&function(e){h.apply(this,arguments)}(t)}),[t]),a&&!l?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"sectiontitle",children:Object(o.jsx)("h2",{children:"TOP ATTRACTIONS"})}),Object(o.jsx)("section",{id:"venues",children:a.map((function(e){return Object(o.jsx)(p,{venue:e},e.id)}))})]}):Object(o.jsx)("p",{className:"weather",children:l})};var _=function(e){var t=e.city;return t&&Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{id:"destination",children:t}),Object(o.jsx)(h,{city:t}),Object(o.jsx)(S,{city:t})]})};var T=function(){return Object(o.jsx)("footer",{})};c(13),c(14);var g=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(j,{}),Object(o.jsxs)("main",{children:[Object(o.jsx)("h1",{children:"Where do you want to land?"}),Object(o.jsx)(u,{setCity:r})]}),Object(o.jsx)(_,{city:c}),Object(o.jsx)(T,{})]})};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(g,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.56e81b48.chunk.js.map